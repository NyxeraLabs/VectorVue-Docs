<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>COMPLIANCE API SPEC | VectorVue Documentation</title>
  <meta name="description" content="Static VectorVue documentation and whitepapers by NyxeraLabs." />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (!window.mermaid) return;
      mermaid.initialize({ startOnLoad: false, securityLevel: 'loose' });
      document.querySelectorAll('pre code.language-mermaid').forEach((codeEl) => {
        const pre = codeEl.closest('pre');
        if (!pre) return;
        const wrapper = document.createElement('div');
        wrapper.className = 'mermaid';
        wrapper.textContent = codeEl.textContent || '';
        pre.replaceWith(wrapper);
      });
      mermaid.run({ querySelector: '.mermaid' });
    });
  </script>
</head>
<body>
  <header class="topbar">
    <div class="brand-wrap">
      <img src="/assets/img/nyxera-logo.png" alt="NyxeraLabs logo" class="brand-logo" />
      <img src="/assets/img/product-logo.png" alt="VectorVue logo" class="product-logo" />
      <div>
        <h1>VectorVue Documentation</h1>
        <p>Enterprise-grade technical documentation and whitepapers</p>
      </div>
    </div>
    <nav class="nav">
      <a href="/">Home</a>
      <a href="/docs/end-user/">End User</a>
      <a href="/docs/sdk/">SDK</a>
      <a href="/docs/integration/">Integration</a>
      <a href="/docs/architecture/">Architecture</a>
      <a href="/docs/whitepaper/">Whitepaper</a>
      <a href="/docs/library/">Full Library</a>
    </nav>
  </header>

  <main class="content">
    <!--
Copyright (c) 2026 NyxeraLabs
Author: José María Micoli
Licensed under BSL 1.1
Change Date: 2033-02-17 → Apache-2.0

You may:
✔ Study
✔ Modify
✔ Use for internal security testing

You may NOT:
✘ Offer as a commercial service
✘ Sell derived competing products
-->

<h1 id="vectorvue-compliance-api-specification">VectorVue Compliance API Specification</h1>

<p>This specification defines tenant-scoped compliance and auditor API behavior.</p>

<h2 id="1-response-envelope">1. Response Envelope</h2>

<p>Compliance responses return signed payload envelopes:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HMAC-SHA256"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vv-compliance-v1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026-02-19T15:30:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hex_hmac"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="2-authentication-and-authorization">2. Authentication and Authorization</h2>

<ul>
  <li>Bearer JWT required for tenant-scoped compliance reads</li>
  <li>Tenant resolved from JWT <code class="language-plaintext highlighter-rouge">tenant_id</code></li>
  <li><code class="language-plaintext highlighter-rouge">POST /audit/session</code> requires role <code class="language-plaintext highlighter-rouge">auditor</code>, <code class="language-plaintext highlighter-rouge">admin</code>, or <code class="language-plaintext highlighter-rouge">lead</code></li>
</ul>

<h2 id="3-endpoints">3. Endpoints</h2>

<h3 id="post-auditsession"><code class="language-plaintext highlighter-rouge">POST /audit/session</code></h3>

<p>Creates a time-limited audit session token record.</p>

<h3 id="get-complianceframeworks"><code class="language-plaintext highlighter-rouge">GET /compliance/frameworks</code></h3>

<p>Returns active frameworks and latest framework scores for tenant.</p>

<h3 id="get-complianceframeworkcontrols"><code class="language-plaintext highlighter-rouge">GET /compliance/{framework}/controls</code></h3>

<p>Returns mapped controls and latest evaluated control state.</p>

<h3 id="get-complianceframeworkscore"><code class="language-plaintext highlighter-rouge">GET /compliance/{framework}/score</code></h3>

<p>Returns latest compliance score and coverage.</p>

<h3 id="get-complianceframeworkreport"><code class="language-plaintext highlighter-rouge">GET /compliance/{framework}/report</code></h3>

<p>Returns control summary, dataset hash, evidence metadata, and report context.</p>

<h3 id="get-complianceaudit-window"><code class="language-plaintext highlighter-rouge">GET /compliance/audit-window</code></h3>

<p>Returns observation/evidence/evaluation counts for selected framework and period.</p>

<h2 id="4-integrity-and-reproducibility-model">4. Integrity and Reproducibility Model</h2>

<ul>
  <li>append-only compliance evidence records</li>
  <li>hash chain integrity between compliance events</li>
  <li>dataset hash for deterministic export validation</li>
  <li>signed API response envelope for transmission integrity checks</li>
</ul>

<h2 id="5-operational-requirements">5. Operational Requirements</h2>

<ol>
  <li>Apply migrations and deploy workers.</li>
  <li>Keep daily compliance evaluation jobs active.</li>
  <li>Validate endpoint behavior in smoke checks before audit windows.</li>
</ol>

<h2 id="6-related-references">6. Related References</h2>

<ul>
  <li><a href="/docs/library/AUDITOR_GUIDE.html">Auditor Guide</a></li>
  <li><a href="/docs/library/manuals/CLIENT_API_MANUAL.html">Client API Manual</a></li>
</ul>


  </main>

  <footer class="footer">
    <span>VectorVue by NyxeraLabs — All Rights Reserved © <span id="year"></span></span>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>
